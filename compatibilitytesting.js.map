{"version":3,"file":"compatibilitytesting.js","sources":["webpack:///src/examples/compatibility-testing.js"],"sourcesContent":["\"use strict\";\n\nvar _extends =\n  Object.assign ||\n  function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n\nvar _createClass = (function() {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function(Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _appStateHoc = require(\"../lib/app-state-hoc.js\");\n\nvar _appStateHoc2 = _interopRequireDefault(_appStateHoc);\n\nvar _controls = require(\"../containers/controls.js\");\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _stage = require(\"../containers/stage.js\");\n\nvar _stage2 = _interopRequireDefault(_stage);\n\nvar _box = require(\"../components/box/box.js\");\n\nvar _box2 = _interopRequireDefault(_box);\n\nvar _gui = require(\"../containers/gui.js\");\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _projectLoaderHoc = require(\"../lib/project-loader-hoc.js\");\n\nvar _projectLoaderHoc2 = _interopRequireDefault(_projectLoaderHoc);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\n      \"this hasn't been initialised - super() hasn't been called\"\n    );\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\")\n    ? call\n    : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\n      \"Super expression must either be null or a function, not \" +\n        typeof superClass\n    );\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass)\n    Object.setPrototypeOf\n      ? Object.setPrototypeOf(subClass, superClass)\n      : (subClass.__proto__ = superClass);\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return { vm: state.vm };\n};\n\nvar VMStage = (0, _reactRedux.connect)(mapStateToProps)(_stage2.default);\nvar VMControls = (0, _reactRedux.connect)(mapStateToProps)(_controls2.default);\n\nvar DEFAULT_PROJECT_ID = \"10015059\";\n\nvar Player = (function(_React$Component) {\n  _inherits(Player, _React$Component);\n\n  function Player(props) {\n    _classCallCheck(this, Player);\n\n    var _this = _possibleConstructorReturn(\n      this,\n      (Player.__proto__ || Object.getPrototypeOf(Player)).call(this, props)\n    );\n\n    _this.updateProject = _this.updateProject.bind(_this);\n\n    _this.state = {\n      projectId: window.location.hash.substring(1) || DEFAULT_PROJECT_ID\n    };\n    return _this;\n  }\n\n  _createClass(Player, [\n    {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        window.addEventListener(\"hashchange\", this.updateProject);\n        if (!window.location.hash.substring(1)) {\n          window.location.hash = DEFAULT_PROJECT_ID;\n        }\n      }\n    },\n    {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        window.addEventListener(\"hashchange\", this.updateProject);\n      }\n    },\n    {\n      key: \"updateProject\",\n      value: function updateProject() {\n        this.setState({ projectId: window.location.hash.substring(1) });\n      }\n    },\n    {\n      key: \"render\",\n      value: function render() {\n        var width = 480;\n        var height = 360;\n        return _react2.default.createElement(\n          \"div\",\n          { style: { display: \"flex\" } },\n          _react2.default.createElement(\n            _gui2.default,\n            _extends({}, this.props, {\n              width: width\n            }),\n            _react2.default.createElement(\n              _box2.default,\n              { height: 40 },\n              _react2.default.createElement(VMControls, {\n                style: {\n                  marginRight: 10,\n                  height: 40\n                }\n              })\n            ),\n            _react2.default.createElement(VMStage, {\n              height: height,\n              width: width\n            })\n          ),\n          _react2.default.createElement(\"iframe\", {\n            allowFullScreen: true,\n            allowTransparency: true,\n            frameBorder: \"0\",\n            height: \"402\",\n            src:\n              \"https://scratch.mit.edu/projects/embed/\" +\n              this.state.projectId +\n              \"/?autostart=true\",\n            width: \"485\"\n          })\n        );\n      }\n    }\n  ]);\n\n  return Player;\n})(_react2.default.Component);\n\nvar App = (0, _appStateHoc2.default)((0, _projectLoaderHoc2.default)(Player));\n\nvar appTarget = document.createElement(\"div\");\ndocument.body.appendChild(appTarget);\n\n_reactDom2.default.render(_react2.default.createElement(App, null), appTarget);\n\n\n// WEBPACK FOOTER //\n// src/examples/compatibility-testing.js"],"mappings":";;;;;;AAAA;AACA;;;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AAMA;AADA;AAOA;AACA;AACA;AAFA;AADA;AAQA;AACA;AAFA;AAMA;AACA;AACA;AACA;AACA;AAIA;AATA;AAYA;AAxCA;AACA;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}